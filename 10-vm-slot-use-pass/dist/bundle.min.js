(()=>{"use strict";function t(t){return typeof t}function e(e){return null!==e&&"object"===t(e)}function n(e){return"string"===t(e)}function r(e){return"undefined"===t(e)}function o(t){return Array.isArray(t)}function s(e){return"function"===t(e)}function i(t,e){const n=t.indexOf(e);return!(n<0||(t.splice(n,1),0))}let a=!0;function c(...t){a&&console.warn(...t)}let u,l,_=0,h=1,f=!1;function d(t){u.delete(t)}function p(t){if(f)return void setTimeout(p,0,t);const e=u.get(t);if(e){f=!0;try{e()}finally{d(t),f=!1}}}const w="undefined"==typeof window?globalThis:window;if(r(w.setImmediate)){u=new Map;const t="setImmediate$"+(_++).toString(32)+"$";w.addEventListener("message",(e=>{e.source===window&&n(e.data)&&e.data.startsWith(t)&&p(Number(e.data.slice(t.length)))}),!1),l=function(e){w.postMessage(t+e,"*")}}const g=w.setImmediate||function(t){if(!s(t)||arguments.length>1)throw new Error("setImmediate require callback function.");return u.set(h,t),l(h),h++},y=w.clearImmediate||d;function b(t,n){e(n)&&(n=JSON.stringify(n)),t.textContent=n}function x(t=""){return document.createTextNode(e(t)?JSON.stringify(t):t)}function m(t){const e=document.createDocumentFragment();return t?.forEach((t=>{e.appendChild(n(t)?document.createTextNode(t):t)})),e}function N(t,e){t.appendChild(e.length>1?m(e):n(e[0])?x(e[0]):e[0])}function E(t,n){if(n){if(!e(n))return t.removeAttribute(n);for(const e in n)E(t,e)}}function R(t,n,o){if(n)if(e(n))for(const e in n)R(t,e,n[e]);else r(o)||null===o?E(t,n):t.setAttribute(n,o)}function v(t,e,...n){return function(t,e,n){if(e)for(const n in e)n&&!r(e[n])&&R(t,n,e[n]);return n.length>0&&N(t,n),t}(document.createElement(t),e,n)}function O(t,...e){return v(t,null,...e)}function C(t,e,n,o){r(o)&&(o=!!e.startsWith("touch")&&{capture:!1,passive:!0}),t.addEventListener(e,n,o)}function M(t,e,n,r){return C(t,e,n,r),function(){!function(t,e,n){t.removeEventListener(e,n)}(t,e,n)}}const S=Symbol("$$");function D(t){const e=t.constructor;return e===RegExp||e===Date||e===Boolean}function $(t){return e(t)&&S in t}function A(t){return n(t)&&95!==t.charCodeAt(0)}function T(t){return n(t)?t:null===t?"null":r(t)?"undefined":t.toString()}function j(t){return n(t)?t.indexOf(".")>0?t.split("."):[t]:o(t)?t:[t]}function P(t,e,n){t.__parents||(t.__parents=[]),t.__parents.push({core:e,prop:n})}function F(t,e,n){if(!t.__parents)return;const r=t.__parents.findIndex((t=>t.core===e&&t.prop===n));r>=0&&t.__parents.splice(r,1)}function k(t,e,n,r){if(!t.__parents)return;const o=t.__parents.find((t=>t.core===e&&t.prop===n));o&&(o.prop+=r)}const I=new Map;function L(t){const e=I.get(t);e&&(y(e.immediate),I.delete(t))}function V(t,e,n){const r=e.__handlers;r?.forEach((e=>{n?e(t):function(t,e){if(I.has(t))return;const n=g((()=>{const e=I.get(t);try{t(e.propertyPath)}finally{I.delete(t)}}));I.set(t,{immediate:n,propertyPath:e})}(e,t)}));const o=e.__listeners;o?.forEach((e=>{V(t,e,n)}))}function B(t,e,n,r=0){const o=t.__listeners;if(!o)return;const s=T(e[r]);if(!s)return;let i=o.get(s);i&&(e.length-1===r?V(e,i,n):B(i,e,n,r+1)),i=o.get("*"),i&&(e.length-1===r?V(e,i,!0):B(i,e,n,r+1)),i=o.get("**"),i&&V(e,i,!0)}function z(t,e,n=0){const r=T(e[n]);t.__listeners||(t.__listeners=new Map);let o=t.__listeners.get(r);return o||(o={__parent:t,__property:r,__handlers:null,__listeners:null},t.__listeners.set(r,o)),e.length-1===n?o:z(o,e,n+1)}function W(t,e,n=0){const r=T(e[n]);if(!r)return null;const o=t.__listeners?.get(r);return o?e.length-1===n?o:W(o,e,n+1):null}function J(t){const e=t.__listeners;e&&(e.forEach((t=>J(t))),t.__listeners=null);const n=t.__handlers;n&&(n.forEach(L),t.__handlers=null),t.__parent=null}class q{constructor(t){this.__notifiable=!0,this.__parents=null,this.__listeners=null,this.__related=null,this.__setters=null,this.target=t,this.proxy=null,Object.defineProperty(t,S,{value:this,writable:!1,configurable:!0,enumerable:!1})}__watch(t,e,n){const r=(t=j(t)).indexOf("**");if(r>=0&&r!==t.length-1)throw new Error('wizard "**" must be last element in path.');const o=z(this,t);o.__handlers||(o.__handlers=[]),o.__handlers.indexOf(e)<0&&o.__handlers.push(e),n&&n!==this&&n.__addRelated(this,t,e)}__unwatch(t,e,n){if(!t)return void J(this);const r=W(this,j(t));if(!r)return;const o=r.__handlers;o&&(e?(L(e),i(o,e)):(o.forEach(L),o.length=0),function(t){if(t?.__handlers&&t.__handlers.length>0||t.__listeners&&t.__listeners.size>0)return null;const e=t.__parent,n=t.__property;t.__parent=null,e.__listeners.delete(n)}(r),n&&n!==this&&n.__rmRelated(this,t,e))}__notify(t,e=!1){if(!this.__notifiable)return;t=j(t),this.__listeners&&B(this,t,e);const n=this.__parents;n?.forEach((n=>{const r=n.core;r?r.__notify([n.prop].concat(t),e):console.error("dev-warn-unexpected: parent of ViewModelCore has been destroied but not unlink.")}))}__destroy(){this.__notifiable=!1,this.__parents=null,J(this),this.proxy=null,this.__related&&(this.__related.forEach(((t,e)=>{t.forEach((t=>{e.__unwatch(t.prop,t.handler)}))})),this.__related=null);const t=this.target,n=this.__setters;n&&(n.forEach(((n,r)=>{if(null===n)return;const o=t[r];e(o)&&S in o&&F(o[S],this,r)})),this.__setters=null),Object.getOwnPropertyNames(t).forEach((n=>{const r=t[n];e(r)&&S in r&&F(r[S],this,n)})),delete t[S],this.target=null}__addRelated(t,e,n){this.__related||(this.__related=new Map);let r=this.__related.get(t);r||this.__related.set(t,r=[]),r.push({prop:e,handler:n})}__rmRelated(t,e,n){if(!this.__related)return;const r=this.__related.get(t);if(!r)return;const s=o(e),i=r.findIndex((t=>n===t.handler&&(s?function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(e,t.prop):e===t.prop)));i>=0&&r.splice(i,1)}}function G(t,e){t[S].__notify(e)}function H(t,n,o,s,i=!0){if(!A(n))return t[n]=o,!0;const a=t[n];if(a===o&&!r(o))return!0;let c=e(o)&&!D(o);if(c&&(c=S in o,i&&!c))throw new Error(`public property "${n.toString()}" of ViewModel must also be ViewModel`);return e(a)&&S in a&&F(a[S],t[S],n),s(t,n,o),c&&P(o[S],t[S],n),G(t,n),!0}function K(t,e,n){t[e]=n}function Q(t,e,n){const r=function(t,e){let n=t[S].__setters;if(n||(t[S].__setters=n=new Map),n.has(e))return n.get(e);{let r,o=t.constructor,i=Object.getOwnPropertyDescriptor(o.prototype,e);if(i)return r=s(i.set)?i.set:null,n.set(e,r),r;for(o=Object.getPrototypeOf(o);o?.prototype;){if(i=Object.getOwnPropertyDescriptor(o.prototype,e),i)return r=s(i.set)?i.set:null,n.set(e,r),r;o=Object.getPrototypeOf(o)}return n.set(e,null),null}}(t,e);r?r.call(t[S].proxy,n):t[e]=n}function U(t,e,n){return!(S in t)||H(t,e,n,K)}function X(t,e,n){return!(S in t)||H(t,e,n,K,!1)}function Y(t,e,n){return S in t?H(t,e,n,Q):(c(`call setter "${e.toString()}" after destroied, resources such as setInterval maybe not released before destroy. component:`,t),!0)}function Z(t,e,n){let r=e;for(e>n&&(r=n,n=e);r<n;r++)G(t,r)}const tt={set:U},et={get(t,e){if("then"===e||"catch"===e){const n=t[e];return function(...e){return n.call(t,...e)}}return t[e]},set:U};function nt(t,e){return t.forEach(((e,n)=>{$(e)&&P(e[S],t[S],n)})),e(),t.forEach(((e,n)=>{$(e)&&F(e[S],t[S],n)})),Z(t,0,t.length),t[S].proxy}function rt(t,e=!1){const n=ct(t,!0);return t.forEach(((n,r)=>{$(n)?P(n[S],t[S],r):e&&(t[r]=lt(n))})),n}function ot(t,e){t.forEach(((n,r)=>{$(n)&&k(n[S],t[S],r,e)}))}function st(t,n){if(e(t)){if(S in t)return!0;throw new Error(`argument passed to Array.${n} must be ViewModel if the array is ViewModel`)}return!1}const it={splice(t,e,n,...r){e<0&&(e=0),r.forEach(((n,r)=>{st(n,"splice")&&P(n[S],t[S],e+r)}));for(let r=0;r<n&&!(e+r>=t.length);r++){const n=t[e+r];$(n)&&F(n[S],t[S],e+r)}const o=r.length-n;if(0!==o)for(let r=e+n;r<t.length;r++){const e=t[r];$(e)&&k(e[S],t[S],r,o)}const s=rt(t.splice(e,n,...r));if(0!==o){G(t,"length");for(let n=e;n<t.length;n++)G(t,n)}return s},shift(t){if(0===t.length)return t.shift();ot(t,-1);const e=t.shift();$(e)&&F(e[S],t[S],-1),G(t,"length");for(let e=0;e<t.length+1;e++)G(t,e);return e},unshift(t,...e){if(0===e.length)return t.unshift();e.forEach(((e,n)=>{st(e,"unshift")&&P(e[S],t[S],n)})),ot(t,e.length);const n=t.unshift(...e);G(t,"length");for(let e=0;e<t.length;e++)G(t,e);return n},pop(t){if(0===t.length)return t.pop();const e=t.pop();return $(e)&&F(e[S],t[S],t.length),G(t,"length"),G(t,t.length),e},push(t,...e){if(0===e.length)return 0;e.forEach(((e,n)=>{st(e,"push")&&P(e[S],t[S],t.length+n)}));const n=t.push(...e);G(t,"length");for(let n=t.length-e.length;n<t.length;n++)G(t,n);return n},fill:(t,e)=>(st(e,"fill"),t.forEach(((n,o)=>{(n!==e||r(n))&&($(n)&&F(n[S],t[S],o),t[o]=e,$(e)&&P(e[S],t[S],o),G(t,o))})),t[S].proxy),reverse:t=>nt(t,(()=>t.reverse())),sort:(t,e)=>nt(t,(()=>t.sort(e))),concat:(t,e)=>(st(e,"concat"),rt(t.concat(e))),filter:(t,e)=>rt(t.filter(e)),slice:(t,e,n)=>rt(t.slice(e,n)),map:(t,e)=>rt(t.map(e),!0)},at={get(t,e){if(e in it){const n=it[e];return function(...e){return n(t,...e)}}return t[e]},set:function(e,n,r){return!(S in e)||("length"===n?function(e,n){if("number"!==t(r=n)||Number.isNaN(r)||!Number.isFinite(r))throw new Error("bad argument. array length must be validate number.");var r;const o=e.length;if(o>n)for(let t=n;t<o;t++){const n=e[t];$(n)&&F(n[S],e[S],t)}return e.length=n,o!==n&&(G(e,"length"),Z(e,o,n)),!0}(e,r):H(e,n,r,K))}};function ct(t,n){return new q(t).proxy=new Proxy(t,n?at:e(r=t)&&s(r.then)?et:tt);var r}function ut(t,n,r){e(n)&&!D(n)&&(S in n||(t[r]=n=lt(n)),P(n[S],t[S],r))}function lt(t){if(e(t)){if(D(t)||S in t)return t;const e=o(t),n=ct(t,e);if(e)for(let e=0;e<t.length;e++)ut(t,t[e],e);else for(const e in t)A(e)&&ut(t,t[e],e);return n}return t}const _t=Symbol("listeners");class ht{constructor(t){if(this[_t]=null,t)for(const e in t){const n=t[e];this.__on(e,n.fn,n.opts)}}async __notify(t,...e){if(!this[_t])return;const n=this[_t].get(t);if(n)for await(const[r,o]of n){try{await r(...e)}catch(e){console.error("failed __notify",t,"due to:",e)}o?.once&&n.delete(r)}}__on(t,e,n){this[_t]||(this[_t]=new Map);let r=this[_t].get(t);return r||this[_t].set(t,r=new Map),r.set(e,n),()=>{this.__off(t,e)}}__off(t,e){const n=this[_t];if(!n)return;if(!t)return n.forEach((t=>t.clear())),void n.clear();const r=n.get(t);r&&(e?r.delete(e):r.clear())}}const ft=".jg-hide{display:none!important}.jg-hide.jg-hide-enter,.jg-hide.jg-hide-leave{display:block!important}";let dt=!1;!function(){if(dt)return;dt=!0;const t=v("style",{type:"text/css"});t.styleSheet?t.styleSheet.cssText=ft:t.textContent=ft,document.head.appendChild(t)}();const pt=Symbol("__");function wt(t){return pt in t}function gt(t){if(!o(t)||0===t.length)throw new Error("Render results of component is empty");return t}function yt(t){if(!e(t)||o(t))throw new Error("attrs() traget must be plain object.");return function(t){const e=new q(t);return e.__notifiable=!1,e.proxy=new Proxy(t,{set:X})}(t)}class bt extends ht{constructor(t){if(!e(t)||!(S in t))throw new Error("Attributes passed to Component constructor must be ViewModel. See https://[todo]");const n=t[pt]||{};super(n.listeners),function(t){if(S in t)throw new Error("component has alreay been wrapped.");const e=new q(t);e.__notifiable=!1,e.proxy=new Proxy(t,{set:Y})}(this),this[pt]={passedAttrs:t,context:n.context||null,contextState:0,slots:n.slots,state:0,rootNodes:[],nonRootCompNodes:[],refs:null,relatedRefs:null,upNextMap:null,deregFns:null};const r=this[S].proxy;["class","style"].forEach((e=>{if(!(e in t))return;const n=()=>r[e]=t[e];n(),t[S].__watch(e,n)}))}static create(t){const n=e(t);return new this(n&&S in t?t:yt(n?t:{}))[S].proxy}__addDeregisterFn(t){let e=this[pt].deregFns;e||(this[pt].deregFns=e=new Set),e.add(t)}__domAddListener(t,e,n,r){const o=M(t,e,(t=>{n.call(this,t)}),r);return this.__addDeregisterFn(o),()=>{o(),this[pt].deregFns.delete(o)}}__domPassListeners(t,e){if(1!==this[pt].state)throw new Error("domPassListeners must be applied to component which is rendered.");const n=this[_t];n&&0!==n.size&&(t&&!o(t)?(e=t,t=null):e||(e=this.__firstDOM),e.nodeType===Node.ELEMENT_NODE&&n.forEach(((n,r)=>{t&&t.indexOf(r)>=0||n.forEach(((t,n)=>{const o=M(e,r,t&&(t.stop||t.prevent)?e=>{t.stop&&e.stopPropagation(),t.prevent&&e.preventDefault(),n.call(this,e)}:t=>{n.call(this,t)},t);this.__addDeregisterFn(o)}))})))}get __transitionDOM(){const t=this[pt].rootNodes[0];return wt(t)?t.__transitionDOM:t}get __firstDOM(){const t=this[pt].rootNodes[0];return wt(t)?t.__firstDOM:t}get __lastDOM(){const t=this[pt].rootNodes,e=t[t.length-1];return wt(e)?e.__lastDOM:e}__doRender(){const t=this.constructor;let e=t.template;if(!e&&this[pt].slots&&(e=this[pt].slots.default),!s(e))throw new Error(`Template of ${t.name} not found. Forget static getter "template"?`);return e(this)}async __render(){return await this.__beforeRender(),await this.__notify("before-render"),gt(await this.__doRender())}async __renderToDOM(t,e=!0){if(0!==this[pt].state)throw new Error("component has already been rendered.");const n=gt(await this.__render());var r,o;e?(r=n,o=t,t.parentNode.replaceChild(m(r),o)):N(t,n),await this.__handleAfterRender()}async __destroy(t=!0){const e=this[pt];if(!(e.state>2)){if(e.state=2,this[S].__notifiable=!1,e.passedAttrs[S].__notifiable=!1,await this.__notify("before-destroy"),await this.__beforeDestroy(),await this.__handleBeforeDestroy(t),super.__off(),e.passedAttrs[S].__destroy(),e.passedAttrs=null,this[S].__destroy(),e.upNextMap&&(e.upNextMap.forEach((t=>{y(t)})),e.upNextMap=null),e.relatedRefs&&(e.relatedRefs.forEach((t=>{const e=t.origin[pt].refs;if(!e)return;const n=e.get(t.ref);o(n)?i(n,t.node||this):e.delete(t.ref)})),e.relatedRefs=null),e.deregFns){for await(const t of Array.from(e.deregFns))await t();e.deregFns.clear(),e.deregFns=null}e.state=3,e.rootNodes=e.nonRootCompNodes=e.refs=e.slots=e.context=null}}async __handleBeforeDestroy(t=!1){for await(const t of this[pt].nonRootCompNodes)await t.__destroy(!1);let e;for await(const n of this[pt].rootNodes)wt(n)?await n.__destroy(t):t&&(e||(e=n.parentNode),e.removeChild(n))}async __handleAfterRender(){this[pt].passedAttrs[S].__notifiable=!0,this[S].__notifiable=!0;for await(const t of this[pt].rootNodes)wt(t)&&await t.__handleAfterRender();for await(const t of this[pt].nonRootCompNodes)await t.__handleAfterRender();this[pt].state=1,this[pt].contextState=1===this[pt].contextState?3:2,await this.__afterRender(),await this.__notify("after-render")}__updateIfNeed(t,e=!0){if(1!==this[pt].state)return;if(!1===t)return void this.__update();if(s(t)){if(!e)return void t.call(this)}else{if(!e)return void this.__update();t=this.__update}let n=this[pt].upNextMap;n||(n=this[pt].upNextMap=new Map),n.has(t)||n.set(t,g((()=>{n.delete(t),t.call(this)})))}__update(t){}__setContext(t,e,n=!1){if(2===this[pt].contextState||3===this[pt].contextState)throw new Error("Can't setContext after component has been rendered. Try put setContext code into constructor.");if(0===this[pt].contextState&&(this[pt].context=Object.assign({},this[pt].context),this[pt].contextState=1),t in this[pt].context&&!n)throw new Error(`Contenxt with key: ${t.toString()} is exist. Pass third argument forceOverride=true to override it.`);this[pt].context[t]=e}__getContext(t){return this[pt].context?.[t]}__setRef(t,e,n){let r=this[pt].refs;r||(this[pt].refs=r=new Map);let s=r.get(t);s?o(s)?s.push(e):(s=[s,e],r.set(t,s)):r.set(t,e);const i=wt(e);if(!i&&this===n)return;let a=(i?e:n)[pt].relatedRefs;a||((i?e:n)[pt].relatedRefs=a=[]),a.push({origin:this,ref:t,node:i?null:e})}__getRef(t){return 1!==this[pt].state&&c(`Warning: call __getRef before component '${this.constructor.name}' rendered will get nothing. see https://[TODO]`),this[pt].refs?.get(t)}__beforeRender(){}__afterRender(){}__beforeDestroy(){}}bt[pt]=!0;class xt extends bt{constructor(t,e){super(t);const n=this[S].proxy;e.forEach((e=>{n[e]=t[e],t[S].__watch(e,(()=>{n[e]=t[e]}))}))}}function mt(t){const e=document.createComment("empty");return t[pt].rootNodes.push(e),[e]}async function Nt(t){const e=t;return[await(async()=>{const n=O("div","Component A: ",...await(()=>{const n=e[pt].slots,r=n&&n.oo?n.oo:async function(t){return[(()=>{const n=x(),r=()=>{b(n,`oo-${e.store?.count+1}`)};return r(),e[S].__watch(["store","count"],r,t[S]),t[pt].rootNodes.push(n),n})()]},o=yt({aa:null,[pt]:{context:t[pt].context,slots:{default:r||mt}}}),s=()=>{o.aa=e.store?.count+1};s();const i=new xt(o,["aa"])[S].proxy;return e[S].__watch(["store","count"],s,i[S]),t[pt].nonRootCompNodes.push(i),i.__render()})()," , ",...await(()=>{const n=e[pt].slots,r=n&&n.default?n.default:async function(t){return[(()=>{const n=x(),r=()=>{b(n,`default-${e.store?.count}`)};return r(),e[S].__watch(["store","count"],r,t[S]),t[pt].rootNodes.push(n),n})()]},o=yt({aa:null,[pt]:{context:t[pt].context,slots:{default:r||mt}}}),s=()=>{o.aa=e.store?.count};s();const i=new xt(o,["aa"])[S].proxy;return e[S].__watch(["store","count"],s,i[S]),t[pt].nonRootCompNodes.push(i),i.__render()})());return t[pt].rootNodes.push(n),n})()]}class Et extends bt{static template=Nt;constructor(t){super(t);const e=this[S].proxy;e.store=e.__getContext("STORE")}}async function Rt(t){const e=t;return[await(async()=>{const n=O("span","Component B: ",...await(()=>{const n=e[pt].slots,r=n&&n.default?n.default:async function(t){return[(()=>{const n=x(),r=()=>{b(n,`default-${e.k}`)};return r(),e[S].__watch(["k"],r,t[S]),t[pt].rootNodes.push(n),n})()]},o=yt({bb:null,[pt]:{context:t[pt].context,slots:{default:r||mt}}}),s=()=>{o.bb=e.k};s();const i=new xt(o,["bb"])[S].proxy;return e[S].__watch(["k"],s,i[S]),t[pt].nonRootCompNodes.push(i),i.__render()})(),...await(()=>{const n=e[pt].slots,r=n&&n.oo?n.oo:null,o=yt({bb:null,[pt]:{context:t[pt].context,slots:{default:r||mt}}}),s=()=>{o.bb=e.k};s();const i=new xt(o,["bb"])[S].proxy;return e[S].__watch(["k"],s,i[S]),t[pt].nonRootCompNodes.push(i),i.__render()})());return t[pt].rootNodes.push(n),n})()]}class vt extends bt{static template=Rt;constructor(t){super(t);const e=this[S].proxy,n=e.__getContext("STORE");var r,o;e.k=n.count,e._h=()=>{e.k=n.count},r=n,o=e._h,r[S].__watch("count",o)}__beforeDestroy(){var t,e;t=this.__getContext("STORE"),e=this._h,t[S].__unwatch("count",e)}}async function Ot(t){const e=t;return[(()=>{const n=O("div",(()=>{const n=x(),r=()=>{b(n,`${e.aa}, ${e.bb}`)};return r(),e[S].__watch(["aa"],r,t[S]),e[S].__watch(["bb"],r,t[S]),n})());return t[pt].rootNodes.push(n),n})(),...await(()=>{const e=yt({[pt]:{context:t[pt].context}}),n=Et.create(e);return t[pt].rootNodes.push(n),n.__render()})(),...await(()=>{const n=yt({[pt]:{context:t[pt].context,slots:{default:async function(t){const n=t;return[(()=>{const r=x(),o=()=>{b(r,`${n.aa}, ${e.bb}`)};return o(),n[S].__watch(["aa"],o,t[S]),e[S].__watch(["bb"],o,t[S]),t[pt].rootNodes.push(r),r})()]}}}}),r=Et.create(n);return t[pt].rootNodes.push(r),r.__render()})(),...await(()=>{const e=yt({[pt]:{context:t[pt].context,slots:{default:async function(t){const e=t;return[...await(()=>{const n=yt({[pt]:{context:t[pt].context,slots:{default:async function(t){const n=t;return[(()=>{const r=x(),o=()=>{b(r,`${e.aa},${n.bb}`)};return o(),e[S].__watch(["aa"],o,t[S]),n[S].__watch(["bb"],o,t[S]),t[pt].rootNodes.push(r),r})()]}}}}),r=vt.create(n);return t[pt].rootNodes.push(r),r.__render()})()]}}}}),n=Et.create(e);return t[pt].rootNodes.push(n),n.__render()})(),...await(()=>{const e=yt({[pt]:{context:t[pt].context,slots:{default:async function(t){const e=t;return[(()=>{const n=O("span",(()=>{const n=x(),r=()=>{b(n,e.aa)};return r(),e[S].__watch(["aa"],r,t[S]),n})()),r=()=>{R(n,"data-x",e.aa)};return r(),e[S].__watch(["aa"],r,t[S]),t[pt].rootNodes.push(n),n})()]}}}}),n=Et.create(e);return t[pt].rootNodes.push(n),n.__render()})(),...await(()=>{const e=yt({[pt]:{context:t[pt].context,slots:{oo:async function(t){const e=t;return[(()=>{const n=O("span",(()=>{const n=x(),r=()=>{b(n,e.aa)};return r(),e[S].__watch(["aa"],r,t[S]),n})()),r=()=>{R(n,"data-x",e.aa)};return r(),e[S].__watch(["aa"],r,t[S]),t[pt].rootNodes.push(n),n})()]}}}}),n=Et.create(e);return t[pt].rootNodes.push(n),n.__render()})(),...await(()=>{const n=yt({[pt]:{context:t[pt].context,slots:{oo:async function(t){const n=t;return[...await(()=>{const e=yt({[pt]:{context:t[pt].context,slots:{default:async function(t){const e=t;return[(()=>{const r=x(),o=()=>{b(r,`${n.aa}, ${e.bb}`)};return o(),n[S].__watch(["aa"],o,t[S]),e[S].__watch(["bb"],o,t[S]),t[pt].rootNodes.push(r),r})()]}}}}),r=vt.create(e);return t[pt].rootNodes.push(r),r.__render()})(),(()=>{const n=O("span",(()=>{const n=x(),r=()=>{b(n,e.bb)};return r(),e[S].__watch(["bb"],r,t[S]),n})());return t[pt].rootNodes.push(n),n})()]}}}}),r=Et.create(n);return t[pt].rootNodes.push(r),r.__render()})(),await(async()=>{const e=O("div",...await(()=>{const e=yt({[pt]:{context:t[pt].context}}),n=vt.create(e);return t[pt].nonRootCompNodes.push(n),n.__render()})());return t[pt].rootNodes.push(e),e})(),await(async()=>{const e=O("div",...await(()=>{const e=yt({[pt]:{context:t[pt].context,slots:{oo:async function(t){const e=t;return[(()=>{const n=x(),r=()=>{b(n,`oo-${e.bb}`)};return r(),e[S].__watch(["bb"],r,t[S]),t[pt].rootNodes.push(n),n})()]}}}}),n=vt.create(e);return t[pt].nonRootCompNodes.push(n),n.__render()})());return t[pt].rootNodes.push(e),e})(),(()=>{const n=O("div",(()=>{const t=O("button","INCREMENT");return C(t,"click",(function(...t){e.store.count++})),t})());return t[pt].rootNodes.push(n),n})()]}!async function(t,e,n){const r=t.create(void 0);await r.__renderToDOM(e,e!==document.body)}(class extends bt{static get template(){return Ot}constructor(t){super(t);const n=this[S].proxy;n.aa="app-aa",n.bb="app-bb",n.store=function(t){if(!e(t))throw new Error("vm() target must be object or array.");return lt(t)}({count:0}),n.__setContext("STORE",n.store)}},document.getElementById("root-app"))})();