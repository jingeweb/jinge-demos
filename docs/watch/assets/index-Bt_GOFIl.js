(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();var Nt=Object.defineProperty,Tt=(t,n,e)=>n in t?Nt(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,p=(t,n,e)=>Tt(t,typeof n!="symbol"?n+"":n,e);function F(t){return typeof t}function x(t){return typeof t=="symbol"}function m(t){return t!==null&&F(t)==="object"}function V(t){return F(t)==="string"}function w(t){return F(t)==="undefined"}function qt(t){return Array.isArray(t)}function et(t){return F(t)==="function"}const xt=function(){};w(window.setImmediate)&&function(){let t=1;const n=new Map;function e(o){try{const i=n.get(o);i&&(n.delete(o),i())}catch(i){console.error(i)}}function r(o){n.delete(o)}if(window.clearImmediate=r,!w(window.queueMicrotask))window.setImmediate=function(o){const i=t++;return n.set(i,o),window.queueMicrotask(()=>{e(i)}),i};else{const o=`setImmediate$${Date.now().toString(32)}${Math.floor(Math.random()*16777215).toString(32)}$`;window.setImmediate=function(i){const c=t++;return n.set(c,i),window.postMessage(`${o}${t}`),c},window.addEventListener("message",i=>{i.source!==window||!V(i.data)||!i.data.startsWith(o)||e(parseInt(i.data.slice(o.length)))})}}();const Y=window.setImmediate,D=window.clearImmediate;function kt(t=""){return document.createTextNode(t)}function rt(t){const n=document.createDocumentFragment();return t==null||t.forEach(e=>{n.appendChild(V(e)?document.createTextNode(e):e)}),n}function ot(t,n){t.appendChild(n.length>1?rt(n):V(n[0])?kt(n[0]):n[0])}function Ct(t,n,e){t.replaceChild(rt(n),e)}function it(t,n){if(n){if(m(n)){for(const e in n)it(t,e);return}return t.removeAttribute(n)}}function ct(t,n,e){if(n){if(m(n)){for(const r in n)ct(t,r,n[r]);return}w(e)||e===null?it(t,n):t.setAttribute(n,e)}}function Ft(t,n,e){if(n)for(const r in n)r&&!w(n[r])&&ct(t,r,n[r]);return e!=null&&e.length&&ot(t,e),t}function Vt(t,n,...e){return Ft(document.createElement(t),n,e)}function j(t,...n){return Vt(t,void 0,...n)}function z(t,n,e,r){w(r)&&(r=n.startsWith("touch")?{capture:!1,passive:!0}:!1),t.addEventListener(n,e,r)}function ut(t,...n){throw new Error(`Production min error: ${t}. Use development mode or visit https://[todo]/error/${t} for more detail.`)}const st=Symbol(),k=Symbol(),K=Symbol(),G=Symbol(),C=Symbol();function zt(t){t[h]=void 0,t[G]=void 0,t[k]=void 0;const n=t[C];D(n.i),n.p=void 0}function ft(t,n){if(!(n!=null&&n.length))return t;if(!m(t))return;let e=0,r=t[n[e]];for(;e<n.length-1;){if(!m(r))return;e++,r=r[n[e]]}return r}function B(t,n,e,r,o){const i=e?ft(t,e):t;return o&&n(i,void 0),Wt(t)?Bt(t,i,n,e,r):xt}function Bt(t,n,e,r,o){let i=t[M];i||(i=t[M]=new Set);const c={[h]:t,[st]:r,[k]:n,[G]:e,[K]:!!o,[C]:{i:0,p:void 0}};return i.add(c),()=>{i.delete(c),zt(c)}}function lt(t,n,e,r){return et(n)?B(t,n,void 0,!0,e==null?void 0:e.immediate):Array.isArray(n)?B(t,e,n,r==null?void 0:r.deep,r==null?void 0:r.immediate):B(t,e,[n],r==null?void 0:r.deep,r==null?void 0:r.immediate)}function Q(t,n){var e,r;(e=t[M])==null||e.forEach(o=>{const i=o[G],c=o[h];if(!c||!i)return;const s=o[st];if(!(s!=null&&s.length)){const f=o[C];f.i>0&&D(f.i),f.i=Y(()=>{i(c,c,n)}),f.p=null;return}const u=(n==null?void 0:n.length)??0;let l=u===0||u<=s.length&&n&&!n.some((f,b)=>f!==s[b]);if(!l&&o[K]&&u>s.length&&n&&!s.some((f,b)=>n[b]!==f)&&(l=!0),!l)return;const d=o[C];d.i>0&&D(d.i),n?(d.p===void 0||d.p!==null&&n.length<d.p.length)&&(d.p=n):d.p=null,d.i=Y(()=>{const f=o[K],b=o[k],S=ft(c,s);S!==b&&(o[k]=S),(f||S!==b)&&i(S,b,d.p??void 0),d.i=0,d.p=void 0})}),(r=t[I])==null||r.forEach((o,i)=>{o.forEach(c=>{Q(i,n?[c,...n]:[c])})})}function H(t,n){Q(t,[n])}function y(t){Q(t)}const I=Symbol(),M=Symbol(),h=Symbol(),dt=Symbol(),v=new WeakMap;function at(t){if(t instanceof Node||t instanceof Error||t instanceof Promise)return!0;const n=t.constructor;return n===RegExp||n===Date||n===Boolean}function Wt(t){return m(t)&&t[h]!==void 0}function L(t){return m(t)&&!at(t)&&!t[dt]}function a(t,n,e){let r=t[I];r||(r=t[I]=new Map);let o=r.get(n);o||r.set(n,o=new Set),o.add(e)}function R(t,n,e){const r=t[I];if(!r)return;const o=r.get(n);o&&(o.delete(e),o.size||r.delete(n))}function A(t){if(!m(t))return[void 0,t];const n=t[h];if(n)return[t,n];const e=v.get(t);return[e,e?e[h]:t]}function ht(t,n,e,r){const[o,i]=A(r);if(o){if(x(e))n[e]=i;else{const[u,l]=A(n[e]);if(u===o||l===i)return;u&&R(u,t,e),n[e]=i,a(o,t,e),H(t,e)}return}if(x(e)){n[e]=r;return}const[c,s]=A(n[e]);if(c&&R(c,t,e),s!==r){if(L(r)){const u=O(r);a(u,t,e)}n[e]=r,H(t,e)}}function Dt(){let t,n;return{get(e,r){if(r===h)return e;if(r===I)return n;if(r===M)return t;if(x(r))return e[r];{const o=e[r];return m(o)?v.get(o)??o:o}},set(e,r,o,i){return r===M?t=o:r===I?n=o:ht(i,e,r,o),!0}}}function Kt(t){const n=new Proxy(t,Dt());v.set(t,n);for(const e in t)pt(n,t[e],e);return n}function mt(t,n,...e){const r=n.length;return e.length===0?r:(e.forEach((o,i)=>{const[c,s]=A(o);c?a(c,t,r+i):L(o)&&a(O(o),t,r+i),n.push(s)}),y(t),n.length)}function g(t,n,e){const r=m(t)?t[h]?t:v.get(t):void 0;return r&&R(r,n,e),r}function X(t,n,e,r,o){if(r>o)return;let i=e>0?o:r;const c=e>0?r:o,s=e>0?-1:1;for(;;){const u=g(t[i],n,i);if(u&&a(u,n,i+e),i==c)break;i+=s}}function Rt(t,n){if(n.length===0)return;const e=n.pop(),r=g(e,t,n.length);return y(t),r??e}function Ut(t,n,...e){const r=e.length,o=n.length;if(r===0)return o;o>0&&X(n,t,r,0,o-1);for(let i=r-1;i>=0;i--){const c=e[i],[s,u]=A(c);s?a(s,t,i):L(c)&&a(O(c),t,i),n.unshift(u)}return y(t),o+r}function Zt(t,n){const e=n.length;if(e===0)return;const r=n[0],o=g(r,t,0);return e>1&&X(n,t,-1,1,e-1),n.shift(),y(t),o??r}function _t(t,n){return E(t.concat(n[h]??n))}function Gt(t,n,e){return E(t.slice(n,e))}function Qt(t,n){return E(t.filter(n))}function Xt(t,n){return E(t.map(n))}function Jt(t,n,e,r,o){if(n.length===0||(w(r)&&(r=0),w(o)&&(o=n.length),o<=r))return t;const i=A(e);let c=i[0];!c&&L(e)&&(c=O(e));const s=i[1];for(let u=r;u<o;u++)g(n[u],t,u),c&&a(c,t,u),n[u]=s;return y(t),t}function Yt(t,n){const e=n.length;if(e<=1)return t;const r=n[0];g(r,t,0);const o=e>>1;for(let i=0;i<o;i++){const c=e-1-i,s=g(n[i],t,i),u=g(n[c],t,c),l=n[i];n[i]=n[c],n[c]=l,s&&a(s,t,c),u&&a(u,t,i)}return y(t),t}function Ht(t,n,e){return n.length<=1||(n.forEach((r,o)=>{g(r,t,o)}),n.sort(e),n.forEach((r,o)=>{if(m(r)){const i=r[h]?r:v.get(r);i&&a(i,t,o)}}),y(t)),t}function tn(t,n,e,r,...o){if(w(e)&&(e=0),w(r)&&(r=0),r===0&&o.length===0)return E([]);const i=n.length;if(i===0)return o.length>0&&(mt(t,n,...o),y(t)),E([]);const c=[],s=E(c);if(r>0)for(let l=e;l<e+r;l++){const d=n[l],f=g(d,t,l);c.push(f?f[h]:d),f&&a(f,s,l-e)}const u=o.length-r;return u!==0&&X(n,t,u,e+r,i-1),n.splice(e,r),o.forEach((l,d)=>{const[f,b]=A(l),S=e+d;f?a(f,t,S):L(l)&&a(O(l),t,S),n.splice(S,0,b)}),y(t),s}function nn(t,n,e){const r=n.length;if(r!==e){if(r>e)for(let o=e;o<r;o++)g(n[o],t,o);n.length=e,y(t)}}function tt(t){return V(t)&&/^\d+$/.test(t)?parseInt(t):t}function $(t,n,e){return function(...r){return e(t,n,...r)}}const en=new Set(Object.getOwnPropertyNames(Array.prototype));function rn(){let t,n;return{get(e,r,o){if(r===h)return e;if(r===I)return n;if(r===M)return t;if(x(r))return e[r];if(r==="push")return $(o,e,mt);if(r==="pop")return $(o,e,Rt);if(r==="unshift")return $(o,e,Ut);if(r==="shift")return $(o,e,Zt);if(r==="splice")return $(o,e,tn);if(r==="concat")return function(i){return _t(e,i)};if(r==="slice")return function(i,c){return Gt(e,i,c)};if(r==="filter")return function(i){return Qt(e,i)};if(r==="map")return function(i){return Xt(e,i)};if(r==="fill")return $(o,e,Jt);if(r==="sort")return $(o,e,Ht);if(r==="reverse")return $(o,e,Yt);if(r==="includes")return e.includes.bind(e);if(r==="length")return e.length;if(en.has(r))return e[r].bind(e);{const i=tt(r),c=e[i];return m(c)?v.get(c)??c:c}},set(e,r,o,i){return r===M?t=o:r===I?n=o:r==="length"?nn(i,e,o):ht(i,e,tt(r),o),!0}}}function E(t){const n=new Proxy(t,rn());v.set(t,n);for(let e=0;e<t.length;e++)pt(n,t[e],e);return n}function pt(t,n,e){if(!L(n))return;let r=n[h]?n:v.get(n);r||(r=O(n)),a(r,t,e)}function O(t){return qt(t)?E(t):Kt(t)}function W(t){return!m(t)||t[h]||at(t)||t[dt]?t:v.get(t)??O(t)}const on=0,cn=1,un=0,sn=1,fn=2,ln=3,gt=Symbol(),P=Symbol(),yt=Symbol(),bt=Symbol(),dn=Symbol(),an=Symbol(),q=Symbol(),U=Symbol(),wt=Symbol(),Z=Symbol(),vt="hook-miss-component";let N;function nt(t){N=t}function T(t,n,e,r){N||ut(vt),J(N,lt(t,n,e,r))}function hn(t){N||ut(vt),J(N,t)}function mn(t){return!!t[gt]}var St,$t,Et,It,Pt,At,Mt,Ot,Lt,jt;jt=gt,Lt=an,Ot=Z,Mt=bt,At=wt,Pt=yt,It=dn,Et=q,$t=U,St=P;class pn{constructor(){p(this,jt,!0),p(this,Lt),p(this,Ot,un),p(this,Mt),p(this,At,on),p(this,Pt,[]),p(this,It),p(this,Et),p(this,$t),p(this,St,[]),this[bt]={}}}function _(t){var n;for(const e of t[P])mn(e)&&_(e);for(const e of t[yt])_(e);(n=t[q])==null||n.forEach(e=>{const r=e();et(r)&&J(t,r)}),t[q]&&(t[q].length=0),t[wt]=cn,t[Z]=t[Z]===sn?ln:fn}function J(t,n){let e=t[U];e||(e=t[U]=[]),e.push(n)}function gn(t,n,e){nt(t);const r=n.call(t,e);return nt(void 0),r}function yn(t,n,e){const r=new pn,o=gn(r,t,e);return n!==document.body?Ct(n.parentNode,o,n):ot(n,o),_(r),r}function bn(){const t=W({name:"ge",children:[{name:"yuang"}]}),n=W({n:10,boy2:{name:"yy",children:[{name:"pp"}]}});T(n,"n",c=>{console.info("state.n changed to: ",c)}),T(t,["children",0,"name"],c=>{console.info("boy1.children[0].name changed to:",c)}),T(t,(c,s,u)=>{console.info("boy1 deep notify.",c===s,u)});const e=lt(n,["boy2","children"],(c,s,u)=>{console.info("boy2 children changed",u,c)},{deep:!0});hn(e),T(n,["boy2","name"],c=>{console.info("boy2.name changed to:",c)});function r(){t.children[0].name="cc"}function o(){n.boy2={name:"ge"}}function i(){n.n++,t.children.push(W({name:"ppp"}))}return[(()=>{const c=j("h3","ViewModel watch");return this[P].push(c),c})(),(()=>{const c=j("p","Please see code and console output.");return this[P].push(c),c})(),(()=>{const c=j("button","Test1");return z(c,"click",()=>r()),this[P].push(c),c})(),(()=>{const c=j("button","Test2");return z(c,"click",()=>o()),this[P].push(c),c})(),(()=>{const c=j("button","Test3");return z(c,"click",()=>i()),this[P].push(c),c})()]}yn(bn,document.getElementById("app"));
