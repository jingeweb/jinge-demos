<!-- import { A } from './a.c'; -->

<h1>Transition Demo</h1>
<p>Jinge framework provide &lt;transition&gt; component to support transition/animation.</p>

<h3>Show/Hide</h3>
<div>
  <button on:click="show = !show">${show ? 'Hide' : 'Show'}</button>
  <show e:expect="show">
  <transition
    @before-enter="log('before-enter')"
    @before-leave="log('before-leave')"
    @enter="log('enter')"
    @leave="log('leave')"
    @after-enter="log('after-enter')"
    @after-leave="log('after-leave')"
    @enter-cancelled="log('enter-cancelled')"
    @leave-cancelled="log('leave-cancelled')"
  >
    <p>Hello, World</p>
  </transition>
  </show>
</div>
<h3>If</h3>
<div>
  <button on:click="show2 = !show2">${!show2 ? 'Hide' : 'Show'}</button>
  
  <if e:expect="!show2">
    <transition name="slide-fade">
      <p>Default, <A /></p>
    </transition>
  </if>
  <if e:expect="!show2" mode="out-in">
    <transition name="slide">
      <p>Out In, <A /></p>
    </transition>
  </if>
  <if e:expect="!show2" mode="in-out">
    <transition name="slide-fade">
      <p>In Out, <A /></p>
    </transition>
  </if>

</div>
<h3>If/Else</h3>
<div>
  <button on:click="show3 = !show3">Toggle(${show3 ? 'A' : 'B'})</button>
  <if
    e:expect="show3"
    on:switched="log('if updated', ...$args)"
    mode="out-in"
  >
  <transition slot-pass:true name="slide-fade" appear>
    <p>Out In, A: <A />!</p>
  </transition>
  <transition slot-pass:false name="slide-fade" appear>
    <p>Out In, B: <A />!</p>
  </transition>
  </if>
  <if
    :expect="show3"
    @switched="log('if updated', ...$args)"
    mode="default"
  >
  <transition slot-pass:true name="slide-fade" appear>
    <p>Default, A: <A />!</p>
  </transition>
  <transition slot-pass:false name="slide-fade" appear>
    <p>Default, B: <A />!</p>
  </transition>
  </if>
  <if
    :expect="show3"
    @switched="log('if updated', ...$args)"
    mode="in-out"
  >
  <transition slot-pass:true name="slide-fade" appear>
    <p>In Out, A: <A />!</p>
  </transition>
  <transition slot-pass:false name="slide-fade" appear>
    <p>In Out, B: <A />!</p>
  </transition>
  </if>
</div>
<h3>Switch</h3>
<div>
  <button on:click="si++">Increment ${si}</button>
  <button on:click="si--">Decrement ${si}</button>

  <switch
    :test="si"
    @switched="log('switch updated', ...$args)"
  >
    <transition slot-pass:1 name="slide-fade">
      <p>Hello, A!</p>
    </transition>
    <transition slot-pass:2 name="slide-fade">
      <p>Hello, B!</p>
    </transition>
    <transition slot-pass:default name="slide-fade">
      <p>Hello, ${si}</p>
    </transition>
  </switch>
  <switch
    :test="si"
    mode="out-in"
  >
    <transition slot-pass:1 name="slide-fade">
      <p>Out In, A!</p>
    </transition>
    <transition slot-pass:2 name="slide-fade">
      <p>Out In, B!</p>
    </transition>
    <transition slot-pass:default name="slide-fade">
      <p>Out In, ${si}</p>
    </transition>
  </switch>
  <switch
    :test="si"
    mode="in-out"
  >
    <transition slot-pass:1 name="slide-fade">
      <p>In Out, A!</p>
    </transition>
    <transition slot-pass:2 name="slide-fade">
      <p>In Out, B!</p>
    </transition>
    <transition slot-pass:default name="slide-fade">
      <p>In Out, ${si}</p>
    </transition>
  </switch>
</div>
<h3>For</h3>
<p>Not supported!</p>
<p>TODO: implement transition for component: &lt;for&gt;</p>